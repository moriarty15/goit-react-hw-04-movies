{"version":3,"sources":["Components/Navigation/Navigation.module.css","Components/MovieDetailsPage/MovieDetailsPage.module.css","Components/HomePage/HomePage.js","Components/MoviesPage/MoviesPage.js","Components/Navigation/Navigation.js","Components/NotFoundView.js","Components/MovieDetailsPage/MovieDetailsPage.js","App.js","index.js"],"names":["module","exports","HomePage","films","map","id","original_title","name","to","MoviesPage","onSubmit","found","useState","search","setSearch","e","preventDefault","trim","type","onChange","value","target","length","Navigation","exact","className","s","link","activeClassName","activeLink","NotFoundView","MovieDetailsPage","movieId","useParams","movie","setMovie","useEffect","a","fetch","response","json","status","alert","console","log","fetchById","style","title","release_date","slice","images","src","poster_path","alt","vote_average","overview","genres","App","setFilms","setFound","results","FetchPopularFilms","FetchFilmsByRequest","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f3da1a8f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__2yV6x\",\"activeLink\":\"Navigation_activeLink__2dbfU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"MovieDetailsPage_title__1iO4x\",\"overview\":\"MovieDetailsPage_overview__wS3o7\",\"images\":\"MovieDetailsPage_images__15f59\"};","import { Link } from \"react-router-dom\";\r\n\r\nexport default function HomePage({ films }) {\r\n  return (\r\n    <>\r\n      <ul>\r\n        {films.map(({id, original_title, name }) => {\r\n          return (\r\n            <li key={id}>\r\n              <Link to={`/movies/${id}`}>{original_title ?? name}</Link>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\n\r\nexport default function MoviesPage({onSubmit, found}) {\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const inputChange = (e) => {\r\n    e.preventDefault();\r\n    const value = e.target.value.trim();\r\n    if (value === \"\") return;\r\n    setSearch(value);\r\n    };\r\n    \r\n    const searchButton = e => {\r\n        e.preventDefault();\r\n        if (search.trim() === \"\") {\r\n            return\r\n        }\r\n        onSubmit(search);\r\n        setSearch(\"\");\r\n    }\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={searchButton}>\r\n        <button type=\"submit\">Search</button>\r\n        <input onChange={inputChange} />\r\n      </form>\r\n\r\n      {found.length > 0 && <ul>\r\n        {found.map(({ original_title, name, id }) => {\r\n          return (<li key={id}>\r\n          <p>{original_title ?? name }</p>\r\n          </li>)\r\n        })}\r\n      </ul>}\r\n    </>\r\n  );\r\n}\r\n","import { NavLink } from \"react-router-dom\";\r\nimport s from \"./Navigation.module.css\"\r\n\r\nexport default function Navigation() {\r\n  return (\r\n    <nav>\r\n      <NavLink exact to='/' className={s.link} activeClassName={s.activeLink}>Home</NavLink>\r\n      <NavLink to='/movies' className={s.link} activeClassName={s.activeLink}>Movies</NavLink>\r\n    </nav>\r\n  );\r\n};\r\n\r\n","export default function NotFoundView() {\r\n    return <h1>404 Страница не найдена</h1>\r\n}","import { useParams } from \"react-router\";\r\nimport { useState, useEffect } from \"react\";\r\nimport style from \"./MovieDetailsPage.module.css\";\r\n\r\n\r\nexport default function MovieDetailsPage() {\r\n  const { movieId } = useParams();\r\n  const [movie, setMovie] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function fetchById() {\r\n      try {\r\n        const response = await fetch(`\r\nhttps://api.themoviedb.org/3/movie/${movieId}?api_key=f67f4d14d6b529f941fa4f285225b954&language=en-US`);\r\n        const json = await response.json();\r\n          if (json.status !== 'Released') {\r\n              alert('error 404')\r\n              return\r\n          }\r\n        setMovie(json);\r\n      } catch (error) {\r\n        console.log(\"whoops\");\r\n      }\r\n    }\r\n    fetchById();\r\n  }, [movieId]);\r\n    \r\n\r\n  return (\r\n    <>\r\n      {movie && (\r\n        <div>\r\n                  <h2 className={style.title}>{movie.original_title} (<span>{movie.release_date.slice(0, 4)}</span>)</h2>\r\n                  <img className={style.images} src={movie.poster_path ? `https://www.themoviedb.org/t/p/w220_and_h330_face${movie.poster_path}` : 'https://www.publicdomainpictures.net/pictures/280000/velka/not-found-image-15383864787lu.jpg'} alt={movie.original_title }/>\r\n                  \r\n                  <p>rate: <span>{movie.vote_average}</span></p>\r\n                  <p className={style.overview}>Overview </p>\r\n                  <p>{movie.overview}</p>\r\n                  <p className={style.overview}>Genres </p>\r\n                  <ul>\r\n                  {movie.genres.map(({ name }) => {\r\n                      return <li key={name}>\r\n                          <span>{name}</span>\r\n                      </li>\r\n                  })}\r\n                  </ul>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\nimport { Switch, Route } from \"react-router\";\nimport HomePage from \"./Components/HomePage\";\nimport MoviesPage from \"./Components/MoviesPage\";\nimport Navigation from \"./Components/Navigation\";\nimport NotFoundView from \"./Components/NotFoundView\";\nimport MovieDetailsPage from \"./Components/MovieDetailsPage\";\n\nexport default function App() {\n  const [search, setSearch] = useState(\"\");\n  const [films, setFilms] = useState([]);\n  const [found, setFound] = useState([]);\n\n  useEffect(() => {\n    async function FetchPopularFilms() {\n      try {\n        const response = await fetch(\n          \"https://api.themoviedb.org/3/trending/all/day?api_key=f67f4d14d6b529f941fa4f285225b954\"\n        );\n        const json = await response.json();\n        const results = await json.results;\n        setFilms(results);\n      } catch (error) {\n        console.log(\"whoops\");\n      }\n    }\n    FetchPopularFilms();\n  }, []);\n\n  useEffect(() => {\n    async function FetchFilmsByRequest() {\n      if (search === \"\") return;\n      try {\n        const response = await fetch(\n          `https://api.themoviedb.org/3/search/movie?api_key=f67f4d14d6b529f941fa4f285225b954&language=en-US&page=1&include_adult=false&query=${search}`\n        );\n        const json = await response.json();\n        const results = await json.results;\n        setFound(results);\n      } catch (error) {\n        console.log(\"whoops\");\n      }\n    }\n    FetchFilmsByRequest();\n  }, [search]);\n\n  const handleFormSubmit = (search) => {\n    setSearch(search);\n  };\n\n  return (\n    <>\n      <Navigation />\n      <Switch>\n        <Route path=\"/\" exact>\n          <HomePage films={films} />\n        </Route>\n\n        <Route path=\"/movies\" exact>\n          <MoviesPage onSubmit={handleFormSubmit} found={found} />\n        </Route>\n\n        <Route  path=\"/movies/:movieId\" >\n          <MovieDetailsPage/>\n        </Route>\n\n        <Route>\n          <NotFoundView />\n        </Route>\n      </Switch>\n    </>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}